(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){function w(){var a=this;a.top="auto";a.left="auto";a.right="auto";a.bottom="auto";a.set=function(h,l){b.isNumeric(l)&&(a[h]=Math.round(l))}}function H(d,h,b){function m(c,g){f();d.data(u)||(c?(g&&d.data(v,!0),b.showTip(d)):(a.tipOpenImminent=!0,k=setTimeout(function(){k=null;var e=Math.abs(a.previousX-a.currentX),c=Math.abs(a.previousY-a.currentY);e+c<h.intentSensitivity?b.showTip(d):(a.previousX=a.currentX,
a.previousY=a.currentY,m())},h.intentPollInterval)))}function f(){k=clearTimeout(k);a.delayInProgress=!1}var k=null;this.show=m;this.hide=function(c){f();a.tipOpenImminent=!1;d.data(u)&&(d.data(v,!1),c?b.hideTip(d):(a.delayInProgress=!0,k=setTimeout(function(){k=null;b.hideTip(d);a.delayInProgress=!1},h.closeDelay)))};this.cancel=f;this.resetPosition=function(){b.resetPosition(d)}}function I(){function d(d,b){function m(){n.push(c.matrixTransform(g))}var f=d.closest("svg")[0],k=d[0],c=f.createSVGPoint(),
f=k.getBBox(),g=k.getScreenCTM(),e=f.width/2,s=f.height/2,n=[],k="nw n ne e se s sw w".split(" "),p;c.x=f.x;c.y=f.y;m();c.x+=e;m();c.x+=e;m();c.y+=s;m();c.y+=s;m();c.x-=e;m();c.x-=e;m();c.y-=s;m();if(n[0].y!==n[1].y||n[0].x!==n[7].x)for(f=Math.atan2(g.b,g.a)*J,f=Math.ceil((f%360-22.5)/45),1>f&&(f+=8);f--;)k.push(k.shift());for(f=0;f<n.length;f++)if(k[f]===b){p=n[f];break}return{top:p.y+a.scrollTop,left:p.x+a.scrollLeft}}this.compute=function(h,b,m,f,k){var c=b.split("-")[0],g=new w;if(window.SVGElement&&
h[0]instanceof SVGElement)c=d(h,c);else{var e=h.offset(),s=h.outerWidth();h=h.outerHeight();var n,p;switch(c){case "n":n=e.left+s/2;p=e.top;break;case "e":n=e.left+s;p=e.top+h/2;break;case "s":n=e.left+s/2;p=e.top+h;break;case "w":n=e.left;p=e.top+h/2;break;case "nw":n=e.left;p=e.top;break;case "ne":n=e.left+s;p=e.top;break;case "sw":n=e.left;p=e.top+h;break;case "se":n=e.left+s,p=e.top+h}c={top:p,left:n}}switch(b){case "n":g.set("left",c.left-m/2);g.set("bottom",a.windowHeight-c.top+k);break;case "e":g.set("left",
c.left+k);g.set("top",c.top-f/2);break;case "s":g.set("left",c.left-m/2);g.set("top",c.top+k);break;case "w":g.set("top",c.top-f/2);g.set("right",a.windowWidth-c.left+k);break;case "nw":g.set("bottom",a.windowHeight-c.top+k);g.set("right",a.windowWidth-c.left-20);break;case "nw-alt":g.set("left",c.left);g.set("bottom",a.windowHeight-c.top+k);break;case "ne":g.set("left",c.left-20);g.set("bottom",a.windowHeight-c.top+k);break;case "ne-alt":g.set("bottom",a.windowHeight-c.top+k);g.set("right",a.windowWidth-
c.left);break;case "sw":g.set("top",c.top+k);g.set("right",a.windowWidth-c.left-20);break;case "sw-alt":g.set("left",c.left);g.set("top",c.top+k);break;case "se":g.set("left",c.left-20);g.set("top",c.top+k);break;case "se-alt":g.set("top",c.top+k),g.set("right",a.windowWidth-c.left)}return g}}function K(d){function h(b){var g;if(b.data(u))if(a.isTipOpen)a.isClosing||l(a.activeHover),e.delay(100).queue(function(a){h(b);a()});else if(b.trigger("powerTipPreRender"),g=L(b))e.empty().append(g),b.trigger("powerTipRender"),
a.activeHover=b,a.isTipOpen=!0,e.data(y,d.mouseOnToPopup),d.followMouse?m():(f(b),a.isFixedTipOpen=!0),e.fadeIn(d.fadeInTime,function(){a.desyncTimeout||(a.desyncTimeout=setInterval(c,500));b.trigger("powerTipOpen")})}function l(b){a.isClosing=!0;a.activeHover=null;a.isTipOpen=!1;a.desyncTimeout=clearInterval(a.desyncTimeout);b.data(u,!1);b.data(v,!1);e.fadeOut(d.fadeOutTime,function(){var c=new w;a.isClosing=!1;a.isFixedTipOpen=!1;e.removeClass();c.set("top",a.currentY+d.offset);c.set("left",a.currentX+
d.offset);e.css(c);b.trigger("powerTipClose")})}function m(){if(!a.isFixedTipOpen&&(a.isTipOpen||a.tipOpenImminent&&e.data(z))){var b=e.outerWidth(),c=e.outerHeight(),f=new w,h;f.set("top",a.currentY+d.offset);f.set("left",a.currentX+d.offset);h=B(f,b,c);if(h!==t.none){for(var g=h,k=0;g;)g&=g-1,k++;1===k?h===t.right?f.set("left",a.windowWidth-b):h===t.bottom&&f.set("top",a.scrollTop+a.windowHeight-c):(f.set("left",a.currentX-b-d.offset),f.set("top",a.currentY-c-d.offset))}e.css(f)}}function f(a){var c,
f;d.smartPlacement?(c=b.fn.powerTip.smartPlacementLists[d.placement],b.each(c,function(d,b){var c=B(k(a,b),e.outerWidth(),e.outerHeight());f=b;if(c===t.none)return!1})):(k(a,d.placement),f=d.placement);e.addClass(f)}function k(a,b){var c=0,f,h,k=new w;k.set("top",0);k.set("left",0);e.css(k);do f=e.outerWidth(),h=e.outerHeight(),k=g.compute(a,b,f,h,d.offset),e.css(k);while(5>=++c&&(f!==e.outerWidth()||h!==e.outerHeight()));return k}function c(){var d=!1;!a.isTipOpen||a.isClosing||a.delayInProgress||
(!1===a.activeHover.data(u)||a.activeHover.is(":disabled")?d=!0:C(a.activeHover)||a.activeHover.is(":focus")||a.activeHover.data(v)||(e.data(y)?C(e)||(d=!0):d=!0),d&&l(a.activeHover))}var g=new I,e=b("#"+d.popupId);0===e.length&&(e=b("<div/>",{id:d.popupId}),0===A.length&&(A=b("body")),A.append(e));d.followMouse&&!e.data(z)&&(D.on("mousemove",m),q.on("scroll",m),e.data(z,!0));if(d.mouseOnToPopup)e.on({mouseenter:function(){e.data(y)&&a.activeHover&&a.activeHover.data(r).cancel()},mouseleave:function(){a.activeHover&&
a.activeHover.data(r).hide()}});this.showTip=function(a){a.data(u,!0);e.queue(function(d){h(a);d()})};this.hideTip=l;this.resetPosition=f}function M(){a.mouseTrackingActive||(a.mouseTrackingActive=!0,b(function(){a.scrollLeft=q.scrollLeft();a.scrollTop=q.scrollTop();a.windowWidth=q.width();a.windowHeight=q.height()}),D.on("mousemove",E),q.on({resize:function(){a.windowWidth=q.width();a.windowHeight=q.height()},scroll:function(){var d=q.scrollLeft(),b=q.scrollTop();d!==a.scrollLeft&&(a.currentX+=d-
a.scrollLeft,a.scrollLeft=d);b!==a.scrollTop&&(a.currentY+=b-a.scrollTop,a.scrollTop=b)}}))}function E(d){a.currentX=d.pageX;a.currentY=d.pageY}function C(d){var b=d.offset(),l=d[0].getBoundingClientRect();d=l.right-l.left;l=l.bottom-l.top;return a.currentX>=b.left&&a.currentX<=b.left+d&&a.currentY>=b.top&&a.currentY<=b.top+l}function L(a){var h=a.data(x),l=a.data(F),m=a.data(G),f;h?(b.isFunction(h)&&(h=h.call(a[0])),f=h):l?(b.isFunction(l)&&(l=l.call(a[0])),0<l.length&&(f=l,f.show())):m&&(a=b("#"+
m),0<a.length&&(f=a.html()));return f}function B(b,h,l){var m=a.scrollTop,f=a.scrollLeft,k=m+a.windowHeight,c=f+a.windowWidth,g=t.none;if(b.top<m||Math.abs(b.bottom-a.windowHeight)-l<m)g|=t.top;if(b.top+l>k||Math.abs(b.bottom-a.windowHeight)>k)g|=t.bottom;if(b.left<f||b.right+h>c)g|=t.left;if(b.left+h>c||b.right<f)g|=t.right;return g}var D=b(document),q=b(window),A=b("body"),r="displayController",u="hasActiveHover",v="forcedOpen",z="hasMouseMove",y="mouseOnToPopup",x="powertip",F="powertipjq",G="powertiptarget",
J=180/Math.PI,a={isTipOpen:!1,isFixedTipOpen:!1,isClosing:!1,tipOpenImminent:!1,activeHover:null,currentX:0,currentY:0,previousX:0,previousY:0,desyncTimeout:null,mouseTrackingActive:!1,delayInProgress:!1,windowWidth:0,windowHeight:0,scrollTop:0,scrollLeft:0},t={none:0,top:1,bottom:2,left:4,right:8};b.fn.powerTip=function(a,h){if(!this.length)return this;if("string"===b.type(a)&&b.powerTip[a])return b.powerTip[a].call(this,this,h);var l=b.extend({},b.fn.powerTip.defaults,a),m=new K(l);M();this.each(function(){var a=
b(this),d=a.data(x),c=a.data(F),h=a.data(G),e;a.data(r)&&b.powerTip.destroy(a);e=a.attr("title");d||h||c||!e||(a.data(x,e),a.data("originalTitle",e),a.removeAttr("title"));a.data(r,new H(a,l,m))});if(!l.manual)this.on({"mouseenter.powertip":function(a){b.powerTip.show(this,a)},"mouseleave.powertip":function(){b.powerTip.hide(this)},"focus.powertip":function(){b.powerTip.show(this)},"blur.powertip":function(){b.powerTip.hide(this,!0)},"keydown.powertip":function(a){27===a.keyCode&&b.powerTip.hide(this,
!0)}});return this};b.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:100,followMouse:!1,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:100,placement:"n",smartPlacement:!1,offset:10,mouseOnToPopup:!1,manual:!1};b.fn.powerTip.smartPlacementLists={n:["n","ne","nw","s"],e:"e ne se w nw sw n s e".split(" "),s:["s","se","sw","n"],w:"w nw sw e ne se n s w".split(" "),nw:"nw w sw n s se nw".split(" "),ne:"ne e se n s sw ne".split(" "),sw:"sw w nw s n ne sw".split(" "),se:"se e ne s n nw se".split(" "),
"nw-alt":"nw-alt n ne-alt sw-alt s se-alt w e".split(" "),"ne-alt":"ne-alt n nw-alt se-alt s sw-alt e w".split(" "),"sw-alt":"sw-alt s se-alt nw-alt n ne-alt w e".split(" "),"se-alt":"se-alt s sw-alt ne-alt n nw-alt e w".split(" ")};b.powerTip={show:function(d,h){h?(E(h),a.previousX=h.pageX,a.previousY=h.pageY,b(d).data(r).show()):b(d).first().data(r).show(!0,!0);return d},reposition:function(a){b(a).first().data(r).resetPosition();return a},hide:function(d,h){d?b(d).first().data(r).hide(h):a.activeHover&&
a.activeHover.data(r).hide(!0);return d},destroy:function(a){b(a).off(".powertip").each(function(){var a=b(this),d=["originalTitle",r,u,v];a.data("originalTitle")&&(a.attr("title",a.data("originalTitle")),d.push(x));a.removeData(d)});return a}};b.powerTip.showTip=b.powerTip.show;b.powerTip.closeTip=b.powerTip.hide});
